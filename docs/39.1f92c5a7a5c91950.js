"use strict";(self.webpackChunkpublic_square=self.webpackChunkpublic_square||[]).push([[39],{3039:(gt,O,c)=>{c.r(O),c.d(O,{BrowseModule:()=>mt});var b=c(6895),m=c(9197),S=c(5861),g=c(4006),t=c(4650),q=c(7579),p=c(4004),_=c(2076),y=c(6174),T=c(2753),Z=c(608),R=c(1250),C=c(8503);let P=(()=>{class i{constructor(e,n,s,r){this._arweave=e,this._userAuth=n,this._appSettings=s,this._utils=r,this._query=new q.x,this.queryStream=this._query.asObservable(),this._ardbHash=new y.f(this._arweave.arweave),this._ardbMention=new y.f(this._arweave.arweave),this._ardb=new y.f(this._arweave.arweave)}updateQueryStream(e){this._query.next(e)}getLatestPostsHashtags(e=[],n,s,r){const a=[{name:"App-Name",values:[this._appSettings.protocolName]},{name:"Content-Type",values:["text/plain"]},{name:"Type",values:["post"]}];return n.length&&a.push({name:"Hashtag",values:n}),this._ardbHash.searchTransactions(e,s,r,a).pipe((0,p.U)(l=>l.map(o=>({id:o.id,owner:o.owner.address,blockId:o.block&&o.block.id?o.block.id:"",blockHeight:o.block&&o.block.height?o.block.height:0,dataSize:o.data?o.data.size:void 0,dataType:o.data?o.data.type:void 0,blockTimestamp:o.block&&o.block.timestamp?o.block.timestamp:void 0,tags:o.tags}))))}getLatestPostsMentions(e=[],n,s,r){const a=[{name:"App-Name",values:[this._appSettings.protocolName]},{name:"Content-Type",values:["text/plain"]},{name:"Type",values:["post"]}];return n.length&&a.push({name:"Mention",values:n}),this._ardbMention.searchTransactions(e,s,r,a).pipe((0,p.U)(l=>l.map(o=>({id:o.id,owner:o.owner.address,blockId:o.block&&o.block.id?o.block.id:"",blockHeight:o.block&&o.block.height?o.block.height:0,dataSize:o.data?o.data.size:void 0,dataType:o.data?o.data.type:void 0,blockTimestamp:o.block&&o.block.timestamp?o.block.timestamp:void 0,tags:o.tags}))))}nextHashtags(){return(0,_.D)(this._ardbHash.next()).pipe((0,p.U)(e=>e&&e.length?e.map(s=>({id:s.id,owner:s.owner.address,blockId:s.block&&s.block.id?s.block.id:"",blockHeight:s.block&&s.block.height?s.block.height:0,dataSize:s.data?s.data.size:void 0,dataType:s.data?s.data.type:void 0,blockTimestamp:s.block&&s.block.timestamp?s.block.timestamp:void 0,tags:s.tags})):[]))}nextMentions(){return(0,_.D)(this._ardbMention.next()).pipe((0,p.U)(e=>e&&e.length?e.map(s=>({id:s.id,owner:s.owner.address,blockId:s.block&&s.block.id?s.block.id:"",blockHeight:s.block&&s.block.height?s.block.height:0,dataSize:s.data?s.data.size:void 0,dataType:s.data?s.data.type:void 0,blockTimestamp:s.block&&s.block.timestamp?s.block.timestamp:void 0,tags:s.tags})):[]))}getTxMetadata(e){return this._ardb.searchOneTransactionById(e).pipe((0,p.U)(n=>{if(!n)throw new Error("Tx not found!");return{id:n.id,owner:n.owner.address,blockId:n.block&&n.block.id?n.block.id:"",blockHeight:n.block&&n.block.height?n.block.height:0,dataSize:n.data?n.data.size:void 0,dataType:n.data?n.data.type:void 0,blockTimestamp:n.block&&n.block.timestamp?n.block.timestamp:void 0,tags:n.tags}}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(T.N),t.LFG(Z.H),t.LFG(R.X),t.LFG(C.F))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var N=c(3683),Y=c(7392),H=c(4859),A=c(9549),J=c(4144),L=c(4463);let Q=(()=>{class i{constructor(e,n,s){this._router=e,this._route=n,this._search=s,this.searchForm=new g.nJ({query:new g.p4("",[])})}get query(){return this.searchForm.get("query")}ngOnInit(){var e=this;this._route.firstChild&&this._route.firstChild.paramMap.subscribe(function(){var n=(0,S.Z)(function*(s){const r=s.get("query")?`${s.get("query")}`.trim():"";r&&e.query.setValue(r)});return function(s){return n.apply(this,arguments)}}()),this._search.queryStream.subscribe(n=>{n&&this.query.setValue(n)})}onSubmitSearch(){const e=this.query.value?`${this.query.value}`.trim():"";this._router.navigate(e?["/","browse",`${e}`]:["/","browse"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-browse"]],decls:20,vars:5,consts:[["color","primary",1,"secondary-toolbar"],["mat-icon-button",""],[1,"search-container"],[3,"formGroup","ngSubmit"],["appearance","standard","color","accent"],["matInput","","placeholder","Introduce an Arweave address, #hashtag or @username","autocomplete","off","formControlName","query"],["type","submit","mat-flat-button","","color","accent",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"p")(2,"mat-toolbar",0)(3,"button",1)(4,"mat-icon"),t._uU(5,"search"),t.qZA()(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",2)(10,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmitSearch()}),t.TgZ(11,"p")(12,"mat-form-field",4)(13,"mat-label"),t._uU(14,"Search Public Square"),t.qZA(),t._UZ(15,"input",5),t.qZA(),t.TgZ(16,"button",6)(17,"mat-icon"),t._uU(18,"search"),t.qZA()()()()(),t._UZ(19,"router-outlet"),t.qZA()),2&e&&(t.xp6(7),t.Oqu(t.lcZ(8,3,"MAIN_MENU.SEARCH")),t.xp6(3),t.Q6J("formGroup",n.searchForm),t.xp6(6),t.Q6J("disabled",!n.searchForm.valid))},dependencies:[m.lC,N.Ye,Y.Hw,H.lW,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,A.KE,A.hX,J.Nt,L.X$],styles:[".col-body[_ngcontent-%COMP%]{width:100%;float:left;border-right:solid 1px rgba(250,250,250,.12);min-height:100%;position:relative}@media (min-width: 600px){.col-body[_ngcontent-%COMP%]{width:100%}}.no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;font-style:italic}.active[_ngcontent-%COMP%]{opacity:1}.action-btn-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.action-btn-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:4px;font-weight:700;line-height:10px}.action-btn-label[_ngcontent-%COMP%]{font-weight:400!important;letter-spacing:1px}@media (min-width: 600px){.action-btn-label[_ngcontent-%COMP%]{margin-top:2px;display:block}}.search-container[_ngcontent-%COMP%]{padding:20px 20px 0;width:80%;margin:0 auto}.search-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:column}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-top:0;margin-bottom:20px;border-radius:50px}@media (min-width: 700px){.search-container[_ngcontent-%COMP%]{padding:16px 80px 10px;width:80%;margin:0 auto}.search-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-direction:row}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;margin-top:20px;margin-bottom:20px}}"]}),i})();var v=c(727),z=c(9646),I=c(3900),F=c(6451),x=c(5577),B=c(4135),G=c(2425),M=c(6338),k=c(3238),w=c(3546),U=c(1572),$=c(3275),j=c(5051);function E(i,d){if(1&i&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.name," (",e.username,") ")}}const X=function(i){return["/",i]};function D(i,d){if(1&i&&(t.TgZ(0,"mat-list-item",12),t._UZ(1,"img",13),t.YNc(2,E,2,2,"span",14),t._UZ(3,"app-arweave-address",15),t.qZA()),2&i){const e=d.$implicit,n=t.oxw(2);t.Q6J("routerLink",t.VKq(4,X,e.address)),t.xp6(1),t.Q6J("src",e.avatarURL||n.defaultProfileImage,t.LSH),t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("address",e.address)}}function V(i,d){if(1&i&&(t.TgZ(0,"div",10)(1,"h2"),t._uU(2,"Users"),t.qZA(),t.TgZ(3,"mat-list"),t.YNc(4,D,4,6,"mat-list-item",11),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.profiles)}}function K(i,d){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Posts"),t.qZA())}function W(i,d){1&i&&t._UZ(0,"app-post-card",17),2&i&&t.Q6J("post",d.$implicit)}function tt(i,d){1&i&&t._UZ(0,"mat-spinner",18)}function et(i,d){1&i&&(t.TgZ(0,"div",19),t._uU(1," No results. "),t.qZA())}let nt=(()=>{class i{constructor(e,n,s,r,a,l){this._route=e,this._utils=n,this._search=s,this._arweave=r,this._post=a,this._profile=l,this.query="",this.loadingPosts=!1,this.loadingProfiles=!1,this.posts=[],this.moreResultsAvailable=!0,this._postSubscription=v.w0.EMPTY,this._nextResultsSubscription=v.w0.EMPTY,this._profileSubscription=v.w0.EMPTY,this.maxPosts=10,this.profiles=[],this.defaultProfileImage="assets/images/blank-profile.jpg"}ngOnInit(){var e=this;this._route.paramMap.subscribe(function(){var n=(0,S.Z)(function*(s){e.query=s.get("query")?`${s.get("query")}`.trim():"",e.loadPosts(e.query),e._search.updateQueryStream(e.query)});return function(s){return n.apply(this,arguments)}}())}breakQuery(e){const n=e.split(" "),s=n.length,r={hashtags:[],mentions:[],from:[]};for(let a=0;a<s;a++){let l=this._utils.removeInitialSymbol(n[a].trim(),"#");l=this._utils.removeInitialSymbol(l,"@"),r.hashtags.push(`#${l.toLowerCase()}`),r.hashtags.push(`#${l}`),r.mentions.push(`@${l.toLowerCase()}`),r.mentions.push(`@${l}`),this._arweave.validateAddress(l)&&r.from.push(l)}return r}getStoriesIfFrom(e,n){return e.length?this._post.getLatestPosts(e,this.maxPosts,n):(this._post.resetArDB(),(0,z.of)([]))}loadPosts(e){const n=this.breakQuery(e);let s=0;const r=n.mentions.map(a=>this._utils.removeInitialSymbol(a,"@"));this.loadProfiles(r,n.from),this.loadingPosts=!0,this.posts=[],this._postSubscription=this._arweave.getNetworkInfo().pipe((0,I.w)(a=>{const l=a.height;return(0,F.T)(this._search.getLatestPostsHashtags([],n.hashtags,this.maxPosts,l),this._search.getLatestPostsMentions([],n.mentions,this.maxPosts,l),this.getStoriesIfFrom(n.from,l))})).subscribe({next:a=>{a&&a.length&&(s+=a.length),this.posts.push(...a)},error:a=>{this.loadingPosts=!1,this.moreResultsAvailable=!1,this._utils.message(a,"error")},complete:()=>{this.moreResultsAvailable=!!s,this.loadingPosts=!1}})}moreResults(){this.loadingPosts=!0;let e=0;this._nextResultsSubscription=(0,F.T)(this._search.nextHashtags(),this._search.nextMentions(),this._post.next()).subscribe({next:n=>{n&&n.length&&(e+=n.length),this.posts=this.posts.concat(n)},error:n=>{this.loadingPosts=!1,this.moreResultsAvailable=!1,this._utils.message(n,"error")},complete:()=>{this.moreResultsAvailable=!!e,this.loadingPosts=!1}})}ngOnDestroy(){this._postSubscription.unsubscribe(),this._nextResultsSubscription.unsubscribe(),this._profileSubscription.unsubscribe()}loadProfiles(e,n){this.loadingProfiles=!0,this.profiles=[];const r=e.concat(n),a=[];for(let l of r)a.indexOf(l)<0&&a.push(l);this._profileSubscription=(0,_.D)(a).pipe((0,x.z)(l=>this._profile.getProfileByAddress(l))).subscribe({next:l=>{l&&void 0===this.profiles.find(u=>u.username===l.username)&&this.profiles.push(l)}})}getImageUrl(e){var n=this._arweave.getImageUrl(e);return n||(n=this.defaultProfileImage),n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.gz),t.Y36(C.F),t.Y36(P),t.Y36(T.N),t.Y36(B.L),t.Y36(G.H))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-results"]],decls:11,vars:7,consts:[["class","profiles-container",4,"ngIf"],[1,"post-list-container"],[4,"ngIf"],[3,"post",4,"ngFor","ngForOf"],[1,"more-results-container"],["color","accent","diameter","32",4,"ngIf"],["class","no-results",4,"ngIf"],["matRipple","",1,"more-results-card","mat-elevation-z0",3,"click"],["moreResultsCard",""],[1,"more-results","text-center"],[1,"profiles-container"],["class","profile-list-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"profile-list-item",3,"routerLink"],["matListAvatar","",3,"src"],["matLine","","class","ellipsis nowrap profile-name",4,"ngIf"],["matLine","",3,"address"],["matLine","",1,"ellipsis","nowrap","profile-name"],[3,"post"],["color","accent","diameter","32"],[1,"no-results"]],template:function(e,n){1&e&&(t.YNc(0,V,5,1,"div",0),t.TgZ(1,"div",1),t.YNc(2,K,2,0,"h2",2),t.YNc(3,W,1,1,"app-post-card",3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,tt,1,0,"mat-spinner",5),t.YNc(6,et,2,0,"div",6),t.TgZ(7,"mat-card",7,8),t.NdJ("click",function(){return n.moreResults()}),t.TgZ(9,"mat-card-content",9),t._uU(10," Get more results "),t.qZA()()()),2&e&&(t.Q6J("ngIf",n.profiles.length),t.xp6(2),t.Q6J("ngIf",n.posts.length),t.xp6(1),t.Q6J("ngForOf",n.posts),t.xp6(2),t.Q6J("ngIf",n.loadingPosts),t.xp6(1),t.Q6J("ngIf",!n.posts.length&&!n.loadingPosts),t.xp6(1),t.Udp("visibility",!n.loadingPosts&&n.moreResultsAvailable?"visible":"hidden"))},dependencies:[b.sg,b.O5,m.rH,M.i$,M.Tg,M.eA,k.X2,w.a8,w.dn,k.wG,U.Ou,$.i,j.N],styles:[".mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;font-style:italic}.more-results[_ngcontent-%COMP%]{font-weight:700;font-style:italic}.more-results-card[_ngcontent-%COMP%]{cursor:pointer;border-radius:0;width:100%;margin-top:20px;height:50px;margin-bottom:60px}.more-results-container[_ngcontent-%COMP%]{padding-top:20px}.profiles-container[_ngcontent-%COMP%]{width:80%;margin:0 auto}h2[_ngcontent-%COMP%]{padding:20px}.profile-list-item[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),st=(()=>{class i{constructor(e,n,s,r){this._arweave=e,this._userAuth=n,this._appSettings=s,this._utils=r,this._ardb=new y.f(this._arweave.arweave)}getTrendingHashesAndMentions(e=[],n,s){return this._ardb.searchTransactions(e,n,s,[{name:"App-Name",values:[this._appSettings.protocolName]},{name:"Content-Type",values:["text/plain"]},{name:"Type",values:["post"]}]).pipe((0,p.U)(a=>a.map(u=>({id:u.id,owner:u.owner.address,blockId:u.block&&u.block.id?u.block.id:"",blockHeight:u.block&&u.block.height?u.block.height:0,dataSize:u.data?u.data.size:void 0,dataType:u.data?u.data.type:void 0,blockTimestamp:u.block&&u.block.timestamp?u.block.timestamp:void 0,tags:u.tags}))))}next(){return(0,_.D)(this._ardb.next()).pipe((0,p.U)(e=>e&&e.length?e.map(s=>({id:s.id,owner:s.owner.address,blockId:s.block&&s.block.id?s.block.id:"",blockHeight:s.block&&s.block.height?s.block.height:0,dataSize:s.data?s.data.size:void 0,dataType:s.data?s.data.type:void 0,blockTimestamp:s.block&&s.block.timestamp?s.block.timestamp:void 0,tags:s.tags})):[]))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(T.N),t.LFG(Z.H),t.LFG(R.X),t.LFG(C.F))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function it(i,d){1&i&&t._UZ(0,"mat-spinner",8)}function ot(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"a",13),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.navigate(a.removeInitialSymbol(r.hashtag,"#"),"browse"))}),t._uU(2),t.qZA(),t._uU(3),t.qZA()}if(2&i){const e=d.$implicit;t.xp6(2),t.hij(" ",e.hashtag," "),t.xp6(1),t.hij(" (",e.qty,") ")}}function rt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"a",13),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.navigate(a.removeInitialSymbol(r.mention,"@"),"browse"))}),t._uU(2),t.qZA(),t._uU(3),t.qZA()}if(2&i){const e=d.$implicit;t.xp6(2),t.Oqu(e.mention),t.xp6(1),t.hij(" (",e.qty,") ")}}function at(i,d){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"h2"),t._uU(3,"Trending hashtags"),t.qZA(),t.TgZ(4,"div",11),t.YNc(5,ot,4,2,"div",12),t.qZA()(),t.TgZ(6,"div",10)(7,"h2"),t._uU(8,"Trending mentions"),t.qZA(),t.TgZ(9,"div",11),t.YNc(10,rt,4,2,"div",12),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.getTrendingHashtags()),t.xp6(5),t.Q6J("ngForOf",e.getTrendingMentions())}}function lt(i,d){1&i&&(t.TgZ(0,"div",14),t._uU(1," Nothing found!\n"),t.qZA())}function ct(i,d){if(1&i&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" From ",e.results.length," stories. ")}}function dt(i,d){1&i&&t._UZ(0,"mat-spinner",8)}const ut=[{path:"",component:Q,children:[{path:":query",component:nt},{path:"",component:(()=>{class i{constructor(e,n,s,r,a){this._trending=e,this._arweave=n,this._utils=s,this._router=r,this._search=a,this.loadingMoreResults=!1,this.resultsSubscription=v.w0.EMPTY,this.nextResultsSubscription=v.w0.EMPTY,this.maxPosts=100,this.moreResultsAvailable=!0,this.results=[],this.loadingResults=!1,this.hashtags={},this.mentions={}}ngOnInit(){this.loadingResults=!0,this.resultsSubscription=this._arweave.getNetworkInfo().pipe((0,I.w)(e=>this._trending.getTrendingHashesAndMentions([],this.maxPosts,e.height)),(0,p.U)(e=>e.filter(s=>{const r=s.tags&&s.tags.length?s.tags:[],a=r.length;let l=!1;for(let u=0;u<a;u++){const o=r[u],f=o.name.toLowerCase();if("hashtag"===f){const h=o.value;Object.prototype.hasOwnProperty.call(this.hashtags,h)&&this.hashtags[h].txs.indexOf(s.owner)<0?this.hashtags[h].qty+=1:this.hashtags[h]={hashtag:h,qty:1,txs:[s.id]},l=!0}else if("mention"===f){const h=o.value;Object.prototype.hasOwnProperty.call(this.mentions,h)&&this.mentions[h].txs.indexOf(s.owner)<0?this.mentions[h].qty+=1:this.mentions[h]={mention:h,qty:1,txs:[s.id]},l=!0}}return l}))).subscribe({next:e=>{(!e||!e.length)&&(this.moreResultsAvailable=!1),this.results.push(...e),this.loadingResults=!1},error:e=>{this.loadingResults=!1,this.moreResultsAvailable=!1,this._utils.message(e,"error")}})}ngOnDestroy(){this.resultsSubscription.unsubscribe(),this.nextResultsSubscription.unsubscribe()}getTrendingHashtags(){return Object.values(this.hashtags).sort((e,n)=>e.qty<n.qty?1:e.qty>n.qty?-1:0)}getTrendingMentions(){return Object.values(this.mentions).sort((e,n)=>e.qty<n.qty?1:e.qty>n.qty?-1:0)}removeInitialSymbol(e,n="#"){return this._utils.removeInitialSymbol(e,n)}moreResults(){this.loadingMoreResults=!0,this.nextResultsSubscription=this._trending.next().pipe((0,p.U)(e=>e.filter(s=>{const r=s.tags&&s.tags.length?s.tags:[],a=r.length;let l=!1;for(let u=0;u<a;u++){const o=r[u],f=o.name.toLowerCase();if("hashtag"===f){const h=o.value;Object.prototype.hasOwnProperty.call(this.hashtags,h)&&this.hashtags[h].txs.indexOf(s.owner)<0?this.hashtags[h].qty+=1:this.hashtags[h]={hashtag:h,qty:1,txs:[s.id]},l=!0}else if("mention"===f){const h=o.value;Object.prototype.hasOwnProperty.call(this.mentions,h)&&this.mentions[h].txs.indexOf(s.owner)<0?this.mentions[h].qty+=1:this.mentions[h]={mention:h,qty:1,txs:[s.id]},l=!0}}return l}))).subscribe({next:e=>{(!e||!e.length)&&(this.moreResultsAvailable=!1),this.results=this.results.concat(e),this.loadingMoreResults=!1},error:e=>{this.loadingMoreResults=!1,this.moreResultsAvailable=!1,this._utils.message(e,"error")}})}navigate(e,n=""){const s=["/"];n&&s.push(n),s.push(e),this._search.updateQueryStream(e),this._router.navigate(s)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(st),t.Y36(T.N),t.Y36(C.F),t.Y36(m.F0),t.Y36(P))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trending"]],decls:10,vars:7,consts:[["color","accent","diameter","32",4,"ngIf"],["class","fadeIn",4,"ngIf"],["class","no-results clear-both",4,"ngIf"],[1,"more-results-container","clear-both"],["class","text-center",4,"ngIf"],["matRipple","",1,"more-results-card","mat-elevation-z0",3,"click"],["moreResultsCard",""],[1,"more-results","text-center","fadeIn"],["color","accent","diameter","32"],[1,"fadeIn"],[1,"col-6"],[1,"trending-container"],[4,"ngFor","ngForOf"],[3,"click"],[1,"no-results","clear-both"],[1,"text-center"]],template:function(e,n){1&e&&(t.YNc(0,it,1,0,"mat-spinner",0),t.YNc(1,at,11,2,"div",1),t.YNc(2,lt,2,0,"div",2),t.TgZ(3,"div",3),t.YNc(4,ct,2,1,"div",4),t.YNc(5,dt,1,0,"mat-spinner",0),t.TgZ(6,"mat-card",5,6),t.NdJ("click",function(){return n.moreResults()}),t.TgZ(8,"mat-card-content",7),t._uU(9," Get more results "),t.qZA()()()),2&e&&(t.Q6J("ngIf",n.loadingResults),t.xp6(1),t.Q6J("ngIf",!n.loadingResults),t.xp6(1),t.Q6J("ngIf",!n.results.length&&!n.loadingResults),t.xp6(2),t.Q6J("ngIf",n.results.length&&!n.loadingResults),t.xp6(1),t.Q6J("ngIf",n.loadingMoreResults),t.xp6(1),t.Udp("visibility",n.loadingResults||n.loadingMoreResults||!n.moreResultsAvailable?"hidden":"visible"))},dependencies:[b.sg,b.O5,w.a8,w.dn,k.wG,U.Ou],styles:["h2[_ngcontent-%COMP%]{padding:40px 40px 0}.trending-container[_ngcontent-%COMP%]{padding:20px}.trending-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;font-style:italic}.more-results[_ngcontent-%COMP%]{font-weight:700;font-style:italic}.more-results-card[_ngcontent-%COMP%]{cursor:pointer;border-radius:0;width:100%;margin-top:20px;height:50px;margin-bottom:60px}.more-results-container[_ngcontent-%COMP%]{padding-top:20px}.col-6[_ngcontent-%COMP%]{width:100%;text-align:center}@media (min-width: 600px){.col-6[_ngcontent-%COMP%]{width:50%;float:left}}"]}),i})(),pathMatch:"full"}]}];let ht=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(ut),m.Bz]}),i})();var pt=c(4466);let mt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[b.ez,ht,pt.m]}),i})()}}]);